# HexiRules üî¨

A hexagonal cellular automaton simulator with an interactive GUI, supporting both classic Conway-style totalistic rules and a custom HexiDirect symbolic rule system with directions, macros, and conditions.

![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

> Disclaimer: Almost all code in this project was generated by ChatGPT/Codex and GitHub Copilot.

## ‚ú® Features

- Hexagonal grid with 6 neighbors per cell
- Dual rule engines:
        - Conway-style totalistic rules: `B../S..`
        - HexiDirect symbolic rules with directions, macros (%), conditions `[ ... ]`, negation, pointing shorthand, repetition `[state]N`, and alternatives `[a|_]`
- Interactive GUI (Tkinter):
	- Stacked left panels (Worlds, Cells, Rules, Run, Log) + responsive canvas that scales to fill the window
	- Per-world radius, mode (Conway/HexiDirect), JSON save/load
	- HexiDirect editing: Left=cycle state, Right=cycle direction, Middle=clear; Conway: Left toggles
- Logging panel that explains rule expansion and applications during a step
- Each step first selects all matching rules per cell, then applies one at random
- Unified quality checker (MyPy, Black check, unit tests)

## üöÄ Quick Start

### Prerequisites
- Python 3.8 or higher
- Node.js 20+ (for web build checks)
- No external dependencies (uses only standard library)

### Installation & Running

```bash
# Clone the repository
git clone <repository-url>
cd HexiRules

# Create virtual environment (recommended)
python -m venv .venv
.venv/Scripts/activate

# Run the GUI
python src/main.py

# Optional: run the quality checks
python tools/check_quality.py
```

## üéÆ How to Use

1. Pick or create a World (left panel). Each world has its own radius, mode, and rules.
2. Choose Mode in Rules panel: Conway or HexiDirect (default).
3. Edit rules:
        - Conway: `B3/S23`
        - HexiDirect: multi-line symbolic rules like `t[-a] => t%`, `_[t.] => a`, `t%[a] => t`, `_[a]3[_]3 => a`
4. Edit cells in the canvas:
	- HexiDirect: Left=cycle state; Right=cycle direction (1..6,None); Middle=clear
	- Conway: Left toggles alive/dead
5. Click Step to apply rules once. Use Save/Load to persist worlds as JSON.

## üß™ Development

### Running Tests
```bash
# Unified quality checker (type check, format check, tests, web build)
HEXIRULES_NO_GUI=1 python tools/check_quality.py

# Or run tests directly
python tools/run_tests.py --no-gui
```

### VS Code Setup
The project includes VS Code configuration for:
- Debugging (`F5`)
- Test discovery and execution
- Python environment management

## üìê Architecture

```
HexiRules/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # Application entry (creates GUI)
‚îÇ   ‚îú‚îÄ‚îÄ gui.py               # Tkinter GUI
‚îÇ   ‚îú‚îÄ‚îÄ automaton.py         # Conway-style engine
‚îÇ   ‚îú‚îÄ‚îÄ hex_rules.py         # HexiDirect symbolic engine
‚îÇ   ‚îú‚îÄ‚îÄ hex_examples.py      # Example rule sets
‚îÇ   ‚îú‚îÄ‚îÄ cli.py               # CLI entry
‚îÇ   ‚îî‚îÄ‚îÄ version.py
‚îú‚îÄ‚îÄ tests/                   # Unit tests
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îú‚îÄ‚îÄ run_tests.py         # Test discovery/runner
‚îÇ   ‚îî‚îÄ‚îÄ check_quality.py     # MyPy, Black check, tests
‚îú‚îÄ‚îÄ docs/                    # Project documentation
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îî‚îÄ‚îÄ hex_rule_notation.md
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ requirements-dev.txt
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ README.md
```

## üî¨ Hexagonal vs Square Grids

Traditional cellular automata use square grids where each cell has 8 neighbors. Hexagonal grids offer:
- **6 neighbors per cell**: More natural and symmetric neighbor relationships
- **No diagonal bias**: All neighbors are equidistant
- **Biological relevance**: Many natural structures follow hexagonal patterns

## üéØ Rule Examples

- Conway examples: `B3/S23`, `B2/S34`, `B36/S23`
- HexiDirect examples:
	- `t[-a] => t%` (t persists, possibly reorients)
	- `_[t.] => a` (empty becomes a when any neighbor t points to it)
	- `t%[a] => t` (directional t near a remains t)

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Add tests for new functionality
4. Ensure all tests pass
5. Submit a pull request

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---
Current state: The GUI uses stacked panels (no tabs), HexiDirect is the default mode with a compact switcher, the canvas auto-scales, and worlds can be saved/loaded as JSON. Engines and parsing features are covered by unit tests and a consolidated quality checker.
